{"version":3,"sources":["vendor.js","main.js"],"names":["$","click","location","pathname","replace","hostname","target","hash","length","slice","animate","scrollTop","offset","top","sr","debounce","func","threshold","execAsap","timeout","debounced","obj","args","arguments","delayed","apply","clearTimeout","setTimeout","jQuery","fn","bind","trigger","window","smartresize","each","$pi","find","cWidth","parent","width","ratios","map","data","get","sumRatios","sumMargins","minRatio","Math","min","i","parseInt","css","minWidth","height","floor","load","naturalWidth","naturalHeight","resize"],"mappings":"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","file":"index.js","sourcesContent":["'use strict';\n\n$(function() {\n  $('a[href*=\"#\"]:not([href=\"#\"])').click(function() {\n    if (location.pathname.replace(/^\\//,'') == this.pathname.replace(/^\\//,'') && location.hostname == this.hostname) {\n      var target = $(this.hash);\n      target = target.length ? target : $('[name=' + this.hash.slice(1) +']');\n      if (target.length) {\n        $('html, body').animate({\n          scrollTop: target.offset().top\n        }, 1000);\n        return false;\n      }\n    }\n  });\n});\n\n","(function($,sr){\n\n  // debouncing function from John Hann\n  // http://unscriptable.com/index.php/2009/03/20/debouncing-javascript-methods/\n  var debounce = function (func, threshold, execAsap) {\n      var timeout;\n\n      return function debounced () {\n          var obj = this, args = arguments;\n          function delayed () {\n              if (!execAsap)\n                  func.apply(obj, args);\n              timeout = null;\n          };\n\n          if (timeout)\n              clearTimeout(timeout);\n          else if (execAsap)\n              func.apply(obj, args);\n\n          timeout = setTimeout(delayed, threshold || 100);\n      };\n  }\n  // smartresize \n  jQuery.fn[sr] = function(fn){  return fn ? this.bind('resize', debounce(fn)) : this.trigger(sr); };\n\n})(jQuery,'smartresize');\n\n/* Wait for DOM to be ready */\n$(function() {\n  \n\t// Detect resize event\n\t$(window).smartresize(function () {\n\t\t// Set photoset image size\n\t\t$('.photoset-row').each(function () {\n\t\t\tvar $pi    = $(this).find('.photoset-item'),\n\t\t\t\t  cWidth = $(this).parent('.photoset').width();\n\n\t\t\t// Generate array containing all image aspect ratios\n\t\t\tvar ratios = $pi.map(function () {\n\t\t\t\treturn $(this).find('img').data('org-width') / $(this).find('img').data('org-height');\n\t\t\t}).get();\n\n\t\t\t// Get sum of widths\n\t\t\tvar sumRatios = 0, sumMargins = 0,\n          minRatio  = Math.min.apply(Math, ratios);\n\t\t\tfor (var i = 0; i < $pi.length; i++) {\n\t\t\t\tsumRatios += ratios[i]/minRatio;\n\t\t\t};\n      \n      $pi.each(function (){\n        sumMargins += parseInt($(this).css('margin-left')) + parseInt($(this).css('margin-right'));\n      });\n\n\t\t\t// Calculate dimensions\n\t\t\t$pi.each(function (i) {\n\t\t\t\tvar minWidth = (cWidth - sumMargins)/sumRatios;\n\t\t\t\t$(this).find('img')\n          .height(Math.floor(minWidth/minRatio))\n\t\t\t\t\t.width(Math.floor(minWidth/minRatio) * ratios[i]);\n\t\t\t});\n\t\t});\n\t});\n});\n\n/* Wait for images to be loaded */\n$(window).load(function () {\n\n\t// Store original image dimensions\n\t$('.photoset-item img').each(function () {\n      $(this)\n        .data('org-width', $(this)[0].naturalWidth)\n        .data('org-height', $(this)[0].naturalHeight);\n\t});\n\n  $(window).resize();\n});\n"]}